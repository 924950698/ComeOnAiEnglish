<!--index.wxml-->
<view class="container">
  <!-- 顶部欢迎区域 -->
  <view class="header">
    <view class="title">🎯 AI英语发音教练</view>
    <view class="subtitle">智能评分 · 专业指导 · 趣味学习</view>
    <view class="user-info">
      <view class="avatar">
        <image src="../../images/avatar.png" class="avatar-img"></image>
        <view class="level-badge">Lv.{{userLevel}}</view>
      </view>
      <view class="user-stats">
        <view class="username">{{userName || '英语学习者'}}</view>
        <view class="score-info">
          <text class="score">积分: {{totalScore}}</text>
          <text class="streak">连续学习: {{studyDays}}天</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 快速开始区域 -->
  <view class="quick-start">
    <view class="start-btn" bindtap="startRecording">
      <view class="btn-icon">🎤</view>
      <view class="btn-text">开始发音练习</view>
      <view class="btn-desc">AI智能评分，专业指导</view>
    </view>
  </view>

  <!-- 功能模块 -->
  <view class="modules">
    <view class="module-card" bindtap="goToPage" data-page="practice">
      <view class="module-icon">📚</view>
      <view class="module-content">
        <view class="module-title">发音练习</view>
        <view class="module-desc">跟读练习，AI实时评分</view>
        <view class="module-progress">
          <view class="progress-bar">
            <view class="progress-fill" style="width: {{practiceProgress}}%"></view>
          </view>
          <text class="progress-text">{{practiceProgress}}%</text>
        </view>
      </view>
      <view class="module-arrow">></view>
    </view>

    <view class="module-card" bindtap="goToPage" data-page="analysis">
      <view class="module-icon">📊</view>
      <view class="module-content">
        <view class="module-title">发音分析</view>
        <view class="module-desc">详细解析，发音技巧指导</view>
        <view class="module-stats">
          <text class="stat-item">今日练习: {{todayPractice}}次</text>
        </view>
      </view>
      <view class="module-arrow">></view>
    </view>

    <view class="module-card" bindtap="goToPage" data-page="rewards">
      <view class="module-icon">🏆</view>
      <view class="module-content">
        <view class="module-title">奖励中心</view>
        <view class="module-desc">饰品收集，成就解锁</view>
        <view class="module-badges">
          <view class="badge" wx:for="{{recentBadges}}" wx:key="id">
            <image src="{{item.icon}}" class="badge-icon"></image>
          </view>
        </view>
      </view>
      <view class="module-arrow">></view>
    </view>

    <view class="module-card" bindtap="goToPage" data-page="social">
      <view class="module-icon">👥</view>
      <view class="module-content">
        <view class="module-title">好友挑战</view>
        <view class="module-desc">邀请好友，一起进步</view>
        <view class="module-social">
          <text class="social-count">已邀请: {{inviteCount}}人</text>
        </view>
      </view>
      <view class="module-arrow">></view>
    </view>
  </view>

  <!-- 今日推荐 -->
  <view class="daily-recommend">
    <view class="section-title">今日推荐</view>
    <view class="recommend-list">
      <view class="recommend-item" wx:for="{{dailyRecommend}}" wx:key="id" bindtap="startPractice" data-id="{{item.id}}">
        <view class="recommend-icon">{{item.icon}}</view>
        <view class="recommend-content">
          <view class="recommend-title">{{item.title}}</view>
          <view class="recommend-desc">{{item.description}}</view>
          <view class="recommend-difficulty">难度: {{item.difficulty}}</view>
        </view>
        <view class="recommend-score">{{item.score}}分</view>
      </view>
    </view>
  </view>

  <!-- 学习统计 -->
  <view class="learning-stats">
    <view class="section-title">学习统计</view>
    <view class="stats-grid">
      <view class="stat-item">
        <view class="stat-number">{{totalPractice}}</view>
        <view class="stat-label">总练习次数</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{avgScore}}</view>
        <view class="stat-label">平均得分</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{bestScore}}</view>
        <view class="stat-label">最高得分</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{studyDays}}</view>
        <view class="stat-label">连续学习</view>
      </view>
    </view>
  </view>
</view>